<!DOCTYPE html>
<html>
    <head>
        <title>Wood note</title>
        <meta name="viewport" content="initial-scale=1, maximum-scale=1" />

        <meta name="theme-color" content="#e64e32"/>
        <link rel="apple-touch-icon" sizes="180x180" href="Favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="Favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="Favicon/favicon-16x16.png">

        <link rel="stylesheet" type="text/css" href="src/style.css" >
        <link rel="manifest" href="manifest.json">
        <!--<script src="src/FileSaver.js"></script>-->
        <script src="src/app.js"></script>
        
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="#b52b12">
        <meta name="apple-mobile-web-app-title" content="Wood Note">
        <meta name="description" content="A small and powerful note pad app">

        <script src="install.js"></script>

        <script>
            // Check that service workers are supported
            if ('serviceWorker' in navigator) {
              // Use the window load event to keep the page load performant
              window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js');
              });
            }
        </script>
        <script type="module">
            import {Workbox, messageSW} from 'https://storage.googleapis.com/workbox-cdn/releases/5.1.2/workbox-window.prod.mjs';
            
            if ('serviceWorker' in navigator) {
              const wb = new Workbox('/sw.js');
              let registration;
            
              const showSkipWaitingPrompt = (event) => {
                // `event.wasWaitingBeforeRegister` will be false if this is
                // the first time the updated service worker is waiting.
                // When `event.wasWaitingBeforeRegister` is true, a previously
                // updated service worker is still waiting.
                // You may want to customize the UI prompt accordingly.
            
                // Assumes your app has some sort of prompt UI element
                // that a user can either accept or reject.
                const prompt = createUIPrompt({
                  onAccept: async () => {
                    // Assuming the user accepted the update, set up a listener
                    // that will reload the page as soon as the previously waiting
                    // service worker has taken control.
                    wb.addEventListener('controlling', (event) => {
                      window.location.reload();
                    });
            
                    if (registration && registration.waiting) {
                      // Send a message to the waiting service worker,
                      // instructing it to activate.  
                      // Note: for this to work, you have to add a message
                      // listener in your service worker. See below.
                      messageSW(registration.waiting, {type: 'SKIP_WAITING'});
                    }
                  },
            
                  onReject: () => {
                    prompt.dismiss();
                  }
                });
              };
            
              // Add an event listener to detect when the registered
              // service worker has installed but is waiting to activate.
              wb.addEventListener('waiting', showSkipWaitingPrompt);
              wb.addEventListener('externalwaiting', showSkipWaitingPrompt);
            
              registration = await wb.register();
            }
            </script>

        <script src="https://storage.googleapis.com/workbox-cdn/releases/5.0.0/workbox-sw.js"></script>
        <script src="pwabuilder-sw.js"></script>
        <script type="module" src="service-worker.js"></script>
    </head>
    <body>
        <div id="header">
            <p>
                <div id="controls">
                    <div id="top">
                                <h4>Wood Note</h4>
                        </div>
                    <!--<p>-->
                        <img src="Favicon/favicon.ico" style="width: 15px;">
                        <!--<div id="menubutton"><a href="javascript:menuopen()" id="menulink" id="button">MENU&#9776;</a></div>-->
                        <div style="background-color: #d63f24;">
                            <table style="background-color: #d63f24;">
                                <tr>
                                    <th>
                                        <div id="menubutton"><a href="javascript:fmenuopen()" id="menulink" id="button">File</a></div>
                                    </th>
                                    <th>
                                        <div id="menubutton"><a href="javascript:fomenuopen()" id="menulink" id="button">Format</a></div>
                                    </th>
                                    <th>
                                        <div id="menubutton"><a href="javascript:hmenuopen()" id="menulink" id="button">Help</a></div>
                                    </th>
                                </tr>
                            </table>
                        </div>
                        <div id="fmenu" class="fhiddenmenu">
                            <a href="javascript:save();" id="button">Save</a>
                            <!--<a href="javascript:signin();" id="button">Sign in</a>-->
                            <a href="javascript:saveas()" id="button">Save As</a>
                            <a href="javascript:lomenuopen()" id="button">Load</a>
                            <a href="javascript:clear();" id="button">New</a>
                            <a href="javascript:copy();" id="button">Copy Conntents to clipboard</a>
                            <div id="lomenu" class="lohiddenmenu">
                                <input type="file" name="inputfile" id="inputfile" onchange='loadf(this)' oninput="loadf()" style="width: 290%; color: white">
                            </div>
                        </div>
                        <div id="fomenu" class="fohiddenmenu">
                            <a href="javascript:clear();" id="button">Clear</a>
                            <a href="javascript:bullet()" id="button">Bullet</a>
                        </div>
                        <div id="hmenu" class="hhiddenmenu">
                            <!--<a href="javascript:home()" id="button">Home</a>-->
                            <a href="javascript:about()" id="button">About This</a>
                            <a href="https://github.com/imagineeeinc/Wood-Note/wiki" id="button" target="_blank">Help Center/Documentation</a>
                            <!--<a id="button" id="drop">
                                <label for="theme" id="button">Theme colour</label>
                                <select name="theme" id="theme">
                                    <optgroup label="Default">
                                        <option value="default">Default</option>
                                        <option value="darkdefault">Dark Default</option>
                                    </optgroup>
                                    <optgroup label="Light">
                                        <option value="default">Default</option>
                                        <option value="ocean">Ocean Blue</option>
                                        <option value="rose">Rose Gold</option>
                                        <option value="paper">Paper</option>
                                    </optgroup>
                                    <optgroup label="Dark">
                                        <option value="darkdefault">Dark Default</option>
                                        <option value="ocean">Ocean Dark</option>
                                        <option value="trueblack">True Black</option>
                                        <option value="night">Night Blue</option>
                                        <option value="coffee">Coffee Paper</option>
                                        <option value="night">Night Blue</option>
                                    </optgroup>
                                    <optgroup label="Special">
                                        <option value="console">Console</option>
                                        <option value="red">Red</option>
                                        <option value="high">High Contrast</option>
                                        <option value="pink">Pink</option>
                                        <option value="gold">Gold</option>
                                    </optgroup>
                                </select>
                            </a>-->
                        </div>
                    <!--</p>-->
                </div>
            </p>
            <div class="clear"></div>
        </div>
        <div id="container">
                <input id="filename" type="hidden" name="text" value="wood_note_TxT.txt">
                <textarea data-emoji-picker="true" id="area" name="textarea" rows="37" cols="100" placeholder="Start Typing In Wood Note">Hello World!</textarea>
                <script src="src/emojiPicker.js"></script>
                <script>
                    (() => {
                      new EmojiPicker()
                    })()
                  </script>
        </div>
        <div id="bar">
            <a href="javascript:enter()" id="bbutton">Enter&#8626;</a>
            <a href="javascript:movel()" id="bbutton"> <<-- </a>
            <a href="javascript:mover()" id="bbutton"> -->> </a>
            <a href="javascript:bullet()" id="bbutton">Bullet</a>
            <a href="javascript:bracketi()" id="bbutton"> ( </a>
            <a href="javascript:bracketii()" id="bbutton"> ) </a>
            <a href="javascript:sqrbracketi()" id="bbutton"> [ </a>
            <a href="javascript:sqrbracketii()" id="bbutton"> ] </a>
            <a href="javascript:curbracketi()" id="bbutton"> { </a>
            <a href="javascript:curbracketii()" id="bbutton"> } </a>
            <a href="javascript:under()" id="bbutton"> _ </a>
            <a href="javascript:star()" id="bbutton"> * </a>
            <a href="javascript:plus()" id="bbutton"> + </a>
            <a href="javascript:dash()" id="bbutton"> - </a>
            <a href="javascript:equal()" id="bbutton"> = </a>
            <a href="javascript:slash()" id="bbutton"> / </a>
            <a href="javascript:at()" id="bbutton"> @ </a>
            <!--<a href="javascript:cursor()" id="button">-></a>-->
            <!--<input checked type="checkbox" name="auto" id="auto">
            <label for="auto">Auto Save</label>-->
            
        </div>
    </body>
</html>